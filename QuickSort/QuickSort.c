#include <stdio.h>
#include <stdlib.h>
// –§—É–Ω–∫—Ü–∏—è –±—ã—Å—Ç—Ä–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
void quickSort(int *numbers, int left, int right)
{
	int pivot; // —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
	int l_hold = left; //–ª–µ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞
	int r_hold = right; // –ø—Ä–∞–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞
	pivot = numbers[left];
	while (left < right) // –ø–æ–∫–∞ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å–æ–º–∫–Ω—É—Ç—Å—è
	{
		while ((numbers[right] >= pivot) && (left < right))
			right--; // —Å–¥–≤–∏–≥–∞–µ–º –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –ø–æ–∫–∞ —ç–ª–µ–º–µ–Ω—Ç [right] –±–æ–ª—å—à–µ [pivot]
		if (left != right) // –µ—Å–ª–∏ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å–æ–º–∫–Ω—É–ª–∏—Å—å
		{
			numbers[left] = numbers[right]; // –ø–µ—Ä–µ–º–µ—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç [right] –Ω–∞ –º–µ—Å—Ç–æ —Ä–∞–∑—Ä–µ—à–∞—é—â–µ–≥–æ
			left++; // —Å–¥–≤–∏–≥–∞–µ–º –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –≤–ø—Ä–∞–≤–æ 
		}
		while ((numbers[left] <= pivot) && (left < right))
			left++; // —Å–¥–≤–∏–≥–∞–µ–º –ª–µ–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –ø–æ–∫–∞ —ç–ª–µ–º–µ–Ω—Ç [left] –º–µ–Ω—å—à–µ [pivot]
		if (left != right) // –µ—Å–ª–∏ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å–æ–º–∫–Ω—É–ª–∏—Å—å
		{
			numbers[right] = numbers[left]; // –ø–µ—Ä–µ–º–µ—â–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç [left] –Ω–∞ –º–µ—Å—Ç–æ [right]
			right--; // —Å–¥–≤–∏–≥–∞–µ–º –ø—Ä–∞–≤—É—é –≥—Ä–∞–Ω–∏—Ü—É –≤–ø—Ä–∞–≤–æ 
		}
	}
	numbers[left] = pivot; // —Å—Ç–∞–≤–∏–º —Ä–∞–∑—Ä–µ—à–∞—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ –º–µ—Å—Ç–æ
	pivot = left;
	left = l_hold;
	right = r_hold;
	if (left < pivot) // – –µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –¥–ª—è –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ –º–∞—Å—Å–∏–≤–∞
		quickSort(numbers, left, pivot - 1);
	if (right > pivot)
		quickSort(numbers, pivot + 1, right);
}
int main()
{
	int a[10];
	// –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ —Å–ª—É—á–∞–π–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏
	for (int i = 0; i<10; i++)
		a[i] = rand() % 20 - 10;
	// –í—ã–≤–æ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –¥–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
	for (int i = 0; i<10; i++)
		printf("%d ", a[i]);
	printf("\n");
	quickSort(a, 0, 9); // –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
						// –í—ã–≤–æ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
	for (int i = 0; i<10; i++)
		printf("%d ", a[i]);
	printf("\n");
	getchar();
	return 0;
}